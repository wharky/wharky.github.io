---
layout: post
title: "ë„¤íŠ¸ì›Œí¬ ì§€ì—°? ê·¸ê²Œ ë­ì£ ? 'ìœ ë‹ˆí‹° ë¡¤ë°± ë„·ì½”ë“œ'ë¡œ ë§Œë“œëŠ” ì´ˆì €ì§€ì—° ê²©íˆ¬ ê²Œì„ (feat. ì‹œê°„ ì—­í–‰ ì„¤ê³„ì™€ ê²°ì •ë¡ ì˜ ë¯¸í•™)"
categories: tech
---

![ë„¤íŠ¸ì›Œí¬ ì§€ì—°? ê·¸ê²Œ ë­ì£ ? 'ìœ ë‹ˆí‹° ë¡¤ë°± ë„·ì½”ë“œ'ë¡œ ë§Œë“œëŠ” ì´ˆì €ì§€ì—° ê²©íˆ¬ ê²Œì„ (feat. ì‹œê°„ ì—­í–‰ ì„¤ê³„ì™€ ê²°ì •ë¡ ì˜ ë¯¸í•™)](https://image.pollinations.ai/prompt/A+vibrant%2C+chaotic+digital+illustration+showing+two+stylized+fighting+game+characters+in+mid-air+combat%2C+with+ghostly%2C+semi-transparent+trails+behind+them+indicating+%22rollback%22+frames.+The+background+is+a+swirl+of+interconnected+binary+code%2C+glowing+network+packets%2C+and+fragmented+digital+clocks%2C+all+converging+towards+a+central+point.+The+art+style+is+a+blend+of+retro+pixel+art+and+futuristic+neon+glow%2C+emphasizing+precision%2C+speed%2C+and+temporal+manipulation.?width=800&height=450&nologo=true&seed=8290)

> **AI Image Prompt:** A vibrant, chaotic digital illustration showing two stylized fighting game characters in mid-air combat, with ghostly, semi-transparent trails behind them indicating "rollback" frames. The background is a swirl of interconnected binary code, glowing network packets, and fragmented digital clocks, all converging towards a central point. The art style is a blend of retro pixel art and futuristic neon glow, emphasizing precision, speed, and temporal manipulation.


ì•ˆë…•í•˜ì„¸ìš”, ì„¸ìƒì˜ ëª¨ë“  ì½”ë“œë¥¼ ì‚¬ë‘í•˜ëŠ” ê´´ì§œ ì²œì¬ ê°œë°œì, Dr. Bugì…ë‹ˆë‹¤!

ì˜¤ëŠ˜ì€ ë§ì´ì£ , ìš°ë¦¬ ëª¨ë‘ë¥¼ ì—´ ë°›ê²Œ í•˜ëŠ” ê·¸ ë¹Œì–´ë¨¹ì„ 'ë„¤íŠ¸ì›Œí¬ ì§€ì—°'ì´ë¼ëŠ” ë…€ì„ì„ ì–´ë–»ê²Œ ì£¼ë¨¹ìœ¼ë¡œ ë•Œë ¤ëˆ•íˆê³ , ìœ ë‹ˆí‹°ì—ì„œ í™˜ìƒì ì¸ 'ë¡¤ë°± ë„·ì½”ë“œ'ë¥¼ êµ¬í˜„í•˜ì—¬ ì´ˆì €ì§€ì—° ê²©íˆ¬ ê²Œì„ì„ ë§Œë“¤ì–´ë‚¼ ìˆ˜ ìˆëŠ”ì§€ì— ëŒ€í•œ ë¯¸ì¹œ ì´ì•¼ê¸°ë¥¼ í•´ë³¼ê¹Œ í•©ë‹ˆë‹¤. ì´ê±°, ë§ˆì¹˜ ì‹œê°„ì„ ê±°ê¾¸ë¡œ ëŒë¦¬ëŠ” ë§ˆë²•ê³¼ë„ ê°™ì£ . ì•„ë‹ˆ, ì§„ì§œ ë§ˆë²•ì…ë‹ˆë‹¤. ê°œë°œì ë§ˆë²•.

**0. ë ‰? ê·¸ê²Œ ë­ì£ ? ë¨¹ëŠ” ê±´ê°€ìš”? (Rollback Netcodeì˜ ë“±ì¥ ë°°ê²½)**

ì˜¨ë¼ì¸ ê²Œì„, íŠ¹íˆ ê²©íˆ¬ ê²Œì„ì²˜ëŸ¼ 1í”„ë ˆì„ 1í”„ë ˆì„ì´ ìŠ¹íŒ¨ë¥¼ ê°€ë¥´ëŠ” ì¥ë¥´ì—ì„œ ë ‰(lag)ì€ ê³§ ì§€ì˜¥ì…ë‹ˆë‹¤. "ë‚´ê°€ ë¨¼ì € ë•Œë ¸ëŠ”ë° ì™œ ìƒëŒ€ê°€ ë§ì•˜ì§€?" "ë‚´ ì¥í’ì´ ì”¹í˜”ì–´!"... ì´ëŸ° ë¹„ëª…, ë§ì´ ë“¤ì–´ë³´ì…¨ì„ ê²ë‹ˆë‹¤. ì „í†µì ì¸ ì§€ì—° ê¸°ë°˜(Delay-based) ë„·ì½”ë“œëŠ” ìƒëŒ€ë°©ì˜ ì…ë ¥ì´ ë„ì°©í•  ë•Œê¹Œì§€ ë‚´ ê²Œì„ì„ ë©ˆì¶”ê±°ë‚˜ ëŠ¦ì¶”ëŠ” ë°©ì‹ì´ë¼, ì•„ë¬´ë¦¬ ì§§ì€ í•‘ë„ ê²Œì„ í”Œë ˆì´ë¥¼ ì—¿ ë¨¹ì´ëŠ” ì£¼ë²”ì´ì—ˆìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ ìš°ë¦¬ ê°œë°œìë“¤ì€ í¬ê¸°í•˜ì§€ ì•Šì•˜ì£ ! ê·¸ë˜ì„œ ë“±ì¥í•œ ê²ƒì´ ë°”ë¡œ 'ë¡¤ë°± ë„·ì½”ë“œ'ì…ë‹ˆë‹¤. ê°„ë‹¨íˆ ë§í•´, ìƒëŒ€ë°©ì˜ ì…ë ¥ì´ ë„ì°©í•˜ê¸° ì „ì— ì¼ë‹¨ 'ëŒ€ì¶©' ì˜ˆì¸¡í•´ì„œ ê²Œì„ì„ ì§„í–‰í•˜ë‹¤ê°€, ì§„ì§œ ì…ë ¥ì´ ë„ì°©í•˜ë©´ "ì–´ì´ì¿ , ë‚´ê°€ ì˜ëª» ì˜ˆì¸¡í–ˆë„¤!" í•˜ë©´ì„œ ê³¼ê±°ë¡œ ëŒì•„ê°€ ì‹œê°„ì„ ë˜ê°ê³  ì˜¬ë°”ë¥¸ ì…ë ¥ìœ¼ë¡œ ë‹¤ì‹œ ì‹œë®¬ë ˆì´ì…˜í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤. ë§ˆì¹˜ íƒ€ì„ë¨¸ì‹ ì„ íƒ€ê³  ë¯¸ë˜ë¥¼ ë¯¸ë¦¬ ë³´ê³  ê³¼ê±°ë¥¼ ìˆ˜ì •í•˜ëŠ” ì˜í™” ì† ì£¼ì¸ê³µ ê°™ë‹¬ê¹Œìš”? ë‹¨, ì—¬ê¸°ì„œì˜ ì£¼ì¸ê³µì€... ì—¬ëŸ¬ë¶„ì˜ ê²Œì„ í´ë¼ì´ì–¸íŠ¸ì…ë‹ˆë‹¤.

**1. ê²°ì •ë¡ , ë¡¤ë°± ë„·ì½”ë“œì˜ ì‹¬ì¥ì´ì ì˜í˜¼**

ë¡¤ë°± ë„·ì½”ë“œì˜ í•µì‹¬ ì¤‘ì˜ í•µì‹¬ì€ ë°”ë¡œ 'ê²°ì •ë¡ (Determinism)'ì…ë‹ˆë‹¤. ì´ê²Œ ë­ëƒê³ ìš”? ê°„ë‹¨í•©ë‹ˆë‹¤. **"ë˜‘ê°™ì€ ì…ë ¥ê³¼ ë˜‘ê°™ì€ ì´ˆê¸° ìƒíƒœë¥¼ ì£¼ë©´, ì–¸ì œ ì–´ë””ì„œë‚˜ í•­ìƒ ë˜‘ê°™ì€ ê²°ê³¼ë¥¼ ë‚´ì•¼ í•œë‹¤!"** ì´ê²ë‹ˆë‹¤. ë§Œì•½ A í´ë¼ì´ì–¸íŠ¸ì—ì„œëŠ” ìºë¦­í„°ê°€ ì•ìœ¼ë¡œ í•œ ì¹¸ ì›€ì§ì˜€ëŠ”ë°, B í´ë¼ì´ì–¸íŠ¸ì—ì„œëŠ” ë‘ ì¹¸ ì›€ì§ì˜€ë‹¤ë©´? ë¡¤ë°±ì€ ê°œë‚˜ ì¤˜ë²„ë ¤ì•¼ í•©ë‹ˆë‹¤. ğŸ¤¯

ìœ ë‹ˆí‹°ì—ì„œ ì´ê±¸ ì§€í‚¤ëŠ” ê²Œ ìƒê°ë³´ë‹¤ ë¹¡ì…‰ë‹ˆë‹¤.
*   **ë¶€ë™ ì†Œìˆ˜ì (Floating Point) ì—°ì‚°:** ì´ê²Œ ê°€ì¥ í° ê³¨ì¹«ê±°ë¦¬ì…ë‹ˆë‹¤. CPUë§ˆë‹¤, ì‹¬ì§€ì–´ ìš´ì˜ì²´ì œë§ˆë‹¤ ë¯¸ì„¸í•œ ì˜¤ì°¨ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ê²©íˆ¬ ê²Œì„ì—ì„  ì¢…ì¢… ëª¨ë“  ì—°ì‚°ì„ 'ê³ ì • ì†Œìˆ˜ì (Fixed Point)'ìœ¼ë¡œ ë°”ê¾¸ëŠ” ë¯¸ì¹œ ì§“ì„ í•˜ê¸°ë„ í•©ë‹ˆë‹¤. (ì˜ˆ: `Vector3` ëŒ€ì‹  `FixedPointVector3` ê°™ì€ ê±° ì§ì ‘ êµ¬í˜„)
*   **`Time.deltaTime`:** í”„ë ˆì„ ê°„ê²©ì´ ê°€ë³€ì ì´ë¼ ê²°ì •ë¡ ì„ ë°©í•´í•©ë‹ˆë‹¤. í•­ìƒ `FixedUpdate`ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜, ì•„ë‹ˆë©´ ì§ì ‘ ê³ ì •ëœ ìŠ¤í…ìœ¼ë¡œ ê²Œì„ ë¡œì§ì„ ëŒë ¤ì•¼ í•©ë‹ˆë‹¤.
*   **ë‚œìˆ˜(Random Number Generation):** `System.Random`ì´ë“  `UnityEngine.Random`ì´ë“ , ì‹œë“œë¥¼ ê³µìœ í•˜ì§€ ì•Šìœ¼ë©´ ê° í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë‹¤ë¥¸ ê²°ê³¼ë¥¼ ëƒ…ë‹ˆë‹¤. ë°˜ë“œì‹œ ì‹œë“œë¥¼ ë™ê¸°í™”í•˜ê³ , ê²°ì •ë¡ ì  ë‚œìˆ˜ ìƒì„±ê¸°ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
*   **ë¬¼ë¦¬ ì—”ì§„:** ìœ ë‹ˆí‹°ì˜ ë¬¼ë¦¬ ì—”ì§„(PhysX)ì€ ê¸°ë³¸ì ìœ¼ë¡œ ê²°ì •ë¡ ì„ ë³´ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë¡¤ë°± ë„·ì½”ë“œì—ì„  ë³´í†µ ë¬¼ë¦¬ ì—”ì§„ì„ ì§ì ‘ êµ¬í˜„í•˜ê±°ë‚˜, ì•„ì£¼ ì œí•œì ìœ¼ë¡œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ìì²´ì ìœ¼ë¡œ êµ¬í˜„í•œ íˆíŠ¸ë°•ìŠ¤/í—ˆíŠ¸ë°•ìŠ¤ ì¶©ëŒ ê°ì§€ ë¡œì§ì„ ì‚¬ìš©í•˜ëŠ” ì‹ì´ì£ .

**í•µì‹¬ ë¡œì§: ê²°ì •ë¡ ì  ë‚œìˆ˜ ìƒì„±ê¸° (Pseudo-code)**

```csharp
// DeterministicRandom.cs
public class DeterministicRandom
{
    private ulong _state;

    public DeterministicRandom(ulong seed)
    {
        _state = seed;
    }

    // XorShift64* ì•Œê³ ë¦¬ì¦˜ (í•˜ë‚˜ì˜ ì˜ˆì‹œ)
    public ulong NextULong()
    {
        _state ^= _state >> 12; // a
        _state ^= _state << 25; // b
        _state ^= _state >> 27; // c
        return _state * 2685821657736338717UL;
    }

    public int NextInt(int min, int max)
    {
        return (int)(NextULong() % (ulong)(max - min)) + min;
    }

    // ë‹¤ë¥¸ Next... ë©”ì„œë“œë“¤ (float, Vector2 ë“±)
    // ì¤‘ìš”í•œ ê±´ _stateë¥¼ ê¸°ë°˜ìœ¼ë¡œ "ê²°ì •ë¡ ì ìœ¼ë¡œ" ê°’ì„ ë½‘ì•„ë‚¸ë‹¤ëŠ” ê²ƒ!
}
```
**íŒ:** ëª¨ë“  ê²Œì„ ë¡œì§ì´ ì´ `DeterministicRandom` ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê³µìœ í•˜ê³  ì‚¬ìš©í•˜ë„ë¡ ê°•ì œí•´ì•¼ í•©ë‹ˆë‹¤.

**2. ì‹œê°„ ì—¬í–‰ìì˜ ê°€ë°©: ê²Œì„ ìƒíƒœ ì €ì¥ & ë³µì›**

ë¡¤ë°±ì„ í•˜ë ¤ë©´ ê³¼ê±°ë¡œ ëŒì•„ê°ˆ ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë ¤ë©´ ê³¼ê±°ì˜ ê²Œì„ ìƒíƒœë¥¼ ì €ì¥í•´ë‘¬ì•¼ê² ì£ ? ë§ˆì¹˜ ì„¸ì´ë¸Œ-ë¡œë“œì²˜ëŸ¼ìš”. ìš°ë¦¬ëŠ” ë§¤ í”„ë ˆì„ë§ˆë‹¤ ì „ì²´ ê²Œì„ì˜ í•µì‹¬ ìƒíƒœë¥¼ ì €ì¥í•´ì•¼ í•©ë‹ˆë‹¤.

*   **ì €ì¥í•  ê²ƒë“¤:**
    *   ëª¨ë“  í”Œë ˆì´ì–´ ìºë¦­í„°ì˜ ìœ„ì¹˜, ì†ë„, ì• ë‹ˆë©”ì´ì…˜ ìƒíƒœ, ì²´ë ¥ ë“±
    *   ëª¨ë“  íˆ¬ì‚¬ì²´(Projectiles)ì˜ ìœ„ì¹˜, ì†ë„ ë“±
    *   ì „ì²´ ê²Œì„ì˜ í˜„ì¬ í”„ë ˆì„ ë²ˆí˜¸
    *   ê²°ì •ë¡ ì  ë‚œìˆ˜ ìƒì„±ê¸°ì˜ í˜„ì¬ ì‹œë“œ
    *   (ë§Œì•½ ì‚¬ìš©í•œë‹¤ë©´) ê³ ì • ì†Œìˆ˜ì  ì‹œìŠ¤í…œì˜ ëª¨ë“  ë³€ìˆ˜ë“¤

*   **ìœ ë‹ˆí‹°ì—ì„œ êµ¬í˜„:**
    *   `IGameStateSavable` ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ê³  ëª¨ë“  ê²°ì •ë¡ ì  ê²Œì„ ê°ì²´ë“¤ì´ ì´ë¥¼ êµ¬í˜„í•˜ê²Œ í•©ë‹ˆë‹¤.
    *   `GameState`ë¼ëŠ” êµ¬ì¡°ì²´(struct) ë˜ëŠ” í´ë˜ìŠ¤ë¥¼ ì •ì˜í•˜ì—¬ ìœ„ì— ì–¸ê¸‰ëœ ëª¨ë“  ìƒíƒœë¥¼ ìº¡ìŠí™”í•©ë‹ˆë‹¤.
    *   ë§¤ í”„ë ˆì„ë§ˆë‹¤ ì´ `GameState` ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³ , `List<GameState>` ê°™ì€ ê³³ì— ë³´ê´€í•©ë‹ˆë‹¤. ë³´í†µ ìµœê·¼ N í”„ë ˆì„(ì˜ˆ: 60~120í”„ë ˆì„) ì •ë„ë§Œ ì €ì¥í•©ë‹ˆë‹¤.

**í•µì‹¬ ë¡œì§: ê²Œì„ ìƒíƒœ ì €ì¥ (Pseudo-code)**

```csharp
// GameState.cs
public struct GameState
{
    public int CurrentFrame;
    public ulong RandomSeedState; // DeterministicRandomì˜ ë‚´ë¶€ ìƒíƒœ
    public PlayerState[] PlayerStates; // ê° í”Œë ˆì´ì–´ì˜ í•µì‹¬ ìƒíƒœ
    public ProjectileState[] ProjectileStates; // íˆ¬ì‚¬ì²´ë“¤ì˜ ìƒíƒœ
    // ... ê·¸ ì™¸ ëª¨ë“  ê²°ì •ë¡ ì  ê²Œì„ ì˜¤ë¸Œì íŠ¸ ìƒíƒœ

    // ìƒíƒœë¥¼ ì§ë ¬í™”/ì—­ì§ë ¬í™”í•˜ëŠ” ë©”ì„œë“œ (ë„¤íŠ¸ì›Œí¬ ì „ì†¡ìš©)
    public byte[] Serialize() { /* ... */ }
    public static GameState Deserialize(byte[] data) { /* ... */ }
}

// PlayerState.cs (ì˜ˆì‹œ)
public struct PlayerState
{
    public FixedPointVector3 Position; // ê³ ì • ì†Œìˆ˜ì  ìœ„ì¹˜
    public FixedPointVector3 Velocity;
    public int Health;
    public PlayerAnimationState Animation;
    // ... ê¸°íƒ€ ë“±ë“±
}

// RollbackManager.cs (í•µì‹¬)
public class RollbackManager : MonoBehaviour
{
    private List<GameState> _savedStates = new List<GameState>();
    private const int MAX_SAVED_FRAMES = 120; // 2ì´ˆì¹˜ (60fps ê¸°ì¤€)

    // ì´ ë©”ì„œë“œë¥¼ ë§¤ FixedUpdateë§ˆë‹¤ í˜¸ì¶œ
    public void SaveCurrentGameState(int frameNumber, DeterministicRandom dr)
    {
        // ... í˜„ì¬ ê²Œì„ ìƒíƒœë¥¼ ì·¨í•©í•˜ì—¬ GameState ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
        GameState currentState = new GameState
        {
            CurrentFrame = frameNumber,
            RandomSeedState = dr.GetInternalState(), // ë‚œìˆ˜ ìƒì„±ê¸° ìƒíƒœ ì €ì¥!
            PlayerStates = GetCurrentPlayerStates(),
            ProjectileStates = GetCurrentProjectileStates(),
            // ...
        };

        _savedStates.Add(currentState);
        if (_savedStates.Count > MAX_SAVED_FRAMES)
        {
            _savedStates.RemoveAt(0); // ì˜¤ë˜ëœ ìƒíƒœ ì œê±°
        }
    }

    public void LoadGameState(int frameNumber)
    {
        GameState stateToLoad = _savedStates.Find(s => s.CurrentFrame == frameNumber);
        if (stateToLoad.Equals(default(GameState))) // ì°¾ì§€ ëª»í•¨
        {
            Debug.LogError($"Error: GameState for frame {frameNumber} not found for rollback!");
            return;
        }

        // ... stateToLoadì˜ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ëª¨ë“  ê²Œì„ ì˜¤ë¸Œì íŠ¸ ìƒíƒœ ë³µì›
        // í”Œë ˆì´ì–´ ìœ„ì¹˜, ì²´ë ¥, ë‚œìˆ˜ ìƒì„±ê¸° ìƒíƒœ ë“±ë“± ëª¨ë‘ ë³µì›
        _deterministicRandom.SetInternalState(stateToLoad.RandomSeedState);
        SetAllPlayerStates(stateToLoad.PlayerStates);
        SetAllProjectileStates(stateToLoad.ProjectileStates);
        // ...
    }
}
```

**3. ë¯¸ì¹œ ì‹œê°„ ì—¬í–‰ì˜ ì‹œì‘: ë¡¤ë°± ë©”ì»¤ë‹ˆì¦˜**

ì´ì œ ì§„ì§œ ë§ˆë²•ì…ë‹ˆë‹¤.
1.  **ì…ë ¥ ì˜ˆì¸¡:** ìš°ë¦¬ëŠ” ìƒëŒ€ë°©ì˜ ì…ë ¥ì´ ì•„ì§ ë„ì°©í•˜ì§€ ì•Šì•˜ì„ ë•Œ, 'ì•„ë§ˆë„ ì´ ë…€ì„ì€ ì´ì „ê³¼ ê°™ì€ ì…ë ¥ì„ ë„£ì—ˆì„ ê±°ì•¼'ë¼ê³  ì˜ˆì¸¡í•©ë‹ˆë‹¤. (Last Input Prediction)
2.  **ê²Œì„ ì§„í–‰:** ì˜ˆì¸¡ëœ ì…ë ¥ìœ¼ë¡œ ê²Œì„ì„ ì§„í–‰í•©ë‹ˆë‹¤.
3.  **íŒ¨í‚· ë„ì°©:** ì„œë²„ë¡œë¶€í„° ìƒëŒ€ë°©ì˜ 'ì§„ì§œ' ì…ë ¥ì´ ë‹´ê¸´ íŒ¨í‚·ì´ ë„ì°©í•©ë‹ˆë‹¤.
4.  **ë¶ˆì¼ì¹˜ í™•ì¸:** ë„ì°©í•œ ì…ë ¥ì´ ìš°ë¦¬ê°€ ì˜ˆì¸¡í–ˆë˜ ê²ƒê³¼ ë‹¤ë¦…ë‹ˆë‹¤! ğŸ˜± "ì  ì¥, ì˜ˆì¸¡ì´ í‹€ë ¸ì–´!"
5.  **ë¡¤ë°±:** ì¦‰ì‹œ `LoadGameState()`ë¥¼ í˜¸ì¶œí•˜ì—¬ í‹€ë¦° ì˜ˆì¸¡ì´ ì‹œì‘ëœ ì‹œì (ì¦‰, ìƒëŒ€ë°©ì˜ ì§„ì§œ ì…ë ¥ì´ ë„ì°©í•œ í”„ë ˆì„)ìœ¼ë¡œ ê²Œì„ ìƒíƒœë¥¼ ë˜ëŒë¦½ë‹ˆë‹¤.
6.  **ì¬ì‹œë®¬ë ˆì´ì…˜:** ë˜ëŒë¦° ì‹œì ë¶€í„° 'ì§„ì§œ' ì…ë ¥ë“¤ì„ ì ìš©í•˜ì—¬ í˜„ì¬ í”„ë ˆì„ê¹Œì§€ ê²Œì„ì„ ë‹¤ì‹œ ì‹œë®¬ë ˆì´ì…˜í•©ë‹ˆë‹¤. ì´ë•Œ, ì—„ì²­ë‚˜ê²Œ ë¹ ë¥¸ ì†ë„ë¡œ í”„ë ˆì„ë“¤ì„ ì²˜ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.
7.  **ë Œë”ë§:** ì¬ì‹œë®¬ë ˆì´ì…˜ì´ ëë‚˜ë©´, ì‚¬ìš©ìëŠ” ë§ˆì¹˜ ì•„ë¬´ ì¼ë„ ì—†ì—ˆë˜ ê²ƒì²˜ëŸ¼ ë§¤ë„ëŸ½ê²Œ ê²Œì„ì´ ì§„í–‰ëœ ê²ƒì„ ë³´ê²Œ ë©ë‹ˆë‹¤. ì–´ì©Œë©´ ì•„ì£¼ ë¯¸ì„¸í•œ ìˆœê°„ì´ë™(teleport) ê°™ì€ ê²ƒì„ ë³¼ ìˆ˜ë„ ìˆì§€ë§Œ, ì§€ì—° ê¸°ë°˜ ë„·ì½”ë“œì˜ ëšëš ëŠê¸°ëŠ” ê²ƒë³´ë‹¤ëŠ” í›¨ì”¬ ë‚«ìŠµë‹ˆë‹¤.

**í•µì‹¬ ë¡œì§: ë¡¤ë°± ê²Œì„ ë£¨í”„ (Pseudo-code)**

```csharp
// GameLoopManager.cs (FixedUpdateì—ì„œ í˜¸ì¶œë  ë©”ì¸ ë£¨í”„)
public class GameLoopManager : MonoBehaviour
{
    public RollbackManager RollbackMgr;
    public InputManager InputMgr; // ë¡œì»¬/ë„¤íŠ¸ì›Œí¬ ì…ë ¥ ê´€ë¦¬
    public int CurrentFrame { get; private set; } = 0;

    private void FixedUpdate()
    {
        // 1. í˜„ì¬ í”„ë ˆì„ì˜ ëª¨ë“  í”Œë ˆì´ì–´ ì…ë ¥ ìˆ˜ì§‘ (ë¡œì»¬ì€ ì‹¤ì‹œê°„, ìƒëŒ€ëŠ” ì˜ˆì¸¡ ë˜ëŠ” ì‹¤ì œ íŒ¨í‚·)
        InputData localInput = InputMgr.GetLocalInput(CurrentFrame);
        InputData remoteInput = InputMgr.GetRemoteInput(CurrentFrame); // ì˜ˆì¸¡ ë˜ëŠ” ì‹¤ì œ

        // 2. ë¡¤ë°±ì´ í•„ìš”í•œì§€ ê²€ì‚¬ (ìƒëŒ€ë°©ì˜ ì‹¤ì œ ì…ë ¥ì´ ë„ì°©í–ˆê³ , ì˜ˆì¸¡ê³¼ ë‹¤ë¥´ë©´)
        if (InputMgr.HasMismatch(CurrentFrame))
        {
            int rollbackToFrame = InputMgr.GetRollbackStartFrame();
            Debug.LogWarning($"Rollback! From {CurrentFrame} to {rollbackToFrame}");

            RollbackMgr.LoadGameState(rollbackToFrame);
            CurrentFrame = rollbackToFrame; // ì‹œê°„ì„ ê³¼ê±°ë¡œ ëŒë¦°ë‹¤!

            // 3. ë¡¤ë°± ì‹œì ë¶€í„° í˜„ì¬ê¹Œì§€ ì¬ì‹œë®¬ë ˆì´ì…˜
            while (CurrentFrame < InputMgr.GetLatestReceivedFrame()) // ì•„ì§ ì‹œë®¬ë ˆì´ì…˜í•  í”„ë ˆì„ì´ ë‚¨ì•˜ë‹¤ë©´
            {
                // ì´ì „ í”„ë ˆì„ì˜ ì…ë ¥ ê°€ì ¸ì˜¤ê¸° (ì´ì   'ì§„ì§œ' ì…ë ¥ ì‚¬ìš©)
                InputData r_localInput = InputMgr.GetLocalInput(CurrentFrame);
                InputData r_remoteInput = InputMgr.GetRemoteInput(CurrentFrame);

                ExecuteGameFrame(r_localInput, r_remoteInput); // í•œ í”„ë ˆì„ ê²Œì„ ë¡œì§ ì‹¤í–‰
                CurrentFrame++;
                RollbackMgr.SaveCurrentGameState(CurrentFrame, _deterministicRandom);
            }
        }
        else // ë¡¤ë°±ì´ í•„ìš” ì—†ìœ¼ë©´ í‰ì†Œì²˜ëŸ¼ ì§„í–‰
        {
            ExecuteGameFrame(localInput, remoteInput); // í•œ í”„ë ˆì„ ê²Œì„ ë¡œì§ ì‹¤í–‰
            CurrentFrame++;
            RollbackMgr.SaveCurrentGameState(CurrentFrame, _deterministicRandom);
        }
    }

    private void ExecuteGameFrame(InputData p1Input, InputData p2Input)
    {
        // ì´ ì•ˆì—ì„œ ëª¨ë“  í”Œë ˆì´ì–´, íˆ¬ì‚¬ì²´, í™˜ê²½ ì˜¤ë¸Œì íŠ¸ ë“±ì˜ ê²Œì„ ë¡œì§ ì—…ë°ì´íŠ¸
        // (ì£¼ì˜: Time.deltaTime, Random.value ë“± ë¹„ê²°ì •ë¡ ì  í•¨ìˆ˜ ì‚¬ìš© ê¸ˆì§€!)
        Player1.Update(p1Input);
        Player2.Update(p2Input);
        Projectiles.Update();
        // ...
    }
}
```

**4. ìœ ë‹ˆí‹° íŠ¹í™”: íˆíŠ¸ë°•ìŠ¤ì™€ ë¹„ì£¼ì–¼ ë™ê¸°í™”ì˜ ë¯¸í•™**

ìœ ë‹ˆí‹°ì—ì„œ ë¡¤ë°±ì„ êµ¬í˜„í•  ë•Œ í”íˆ ê²ªëŠ” ë¬¸ì œëŠ” ë¹„ì£¼ì–¼ì ì¸ ë¶€ë¶„ì…ë‹ˆë‹¤.
*   **íˆíŠ¸ë°•ìŠ¤/í—ˆíŠ¸ë°•ìŠ¤:** ìœ ë‹ˆí‹°ì˜ `Collider` ì‹œìŠ¤í…œì€ ë¬¼ë¦¬ ì—”ì§„ê³¼ ê²°í•©ë˜ì–´ ë¹„ê²°ì •ë¡ ì ì¼ ìˆ˜ ìˆê³ , `FixedUpdate` ì™¸ì—ëŠ” ìƒíƒœ ë³µì›ì´ ì–´ë µìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ê²©íˆ¬ ê²Œì„ì—ì„  **ìì²´ì ì¸ ì¶©ëŒ ì‹œìŠ¤í…œ**ì„ êµ¬í˜„í•˜ëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤.
    *   `BoxCollider`ë‚˜ `SphereCollider` ëŒ€ì‹ , `FixedPointRect`ë‚˜ `FixedPointCircle` ê°™ì€ êµ¬ì¡°ì²´ë¥¼ ì‚¬ìš©í•´ ì§ì ‘ ì¶©ëŒ íŒì •ì„ í•©ë‹ˆë‹¤.
    *   ì´ íˆíŠ¸ë°•ìŠ¤/í—ˆíŠ¸ë°•ìŠ¤ ë°ì´í„°ëŠ” `PlayerState` ë“±ì— í¬í•¨ë˜ì–´ í•¨ê»˜ ì €ì¥/ë³µì›ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
*   **ë Œë”ë§ê³¼ ë…¼ë¦¬:** ë¡¤ë°±ì€ ë…¼ë¦¬(Logic)ë¥¼ ê³¼ê±°ë¡œ ëŒë¦¬ëŠ” ê²ƒì´ì§€, ë Œë”ë§(Rendering)ê¹Œì§€ ëŒë¦¬ëŠ” ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤. ë Œë”ë§ì€ í•­ìƒ í˜„ì¬ ì‹œì ì„ ë”°ë¼ê°€ì•¼ í•©ë‹ˆë‹¤.
    *   ë¡¤ë°±ì´ ë°œìƒí•˜ë©´ ìºë¦­í„°ê°€ ìˆœê°„ì´ë™í•˜ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ê±¸ ë¶€ë“œëŸ½ê²Œ ë§Œë“¤ê¸° ìœ„í•´ **ë¹„ì£¼ì–¼ ë³´ê°„(Visual Interpolation)** íŠ¸ë¦­ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
    *   ìºë¦­í„°ì˜ ì‹¤ì œ ë…¼ë¦¬ì  ìœ„ì¹˜ëŠ” ë¡¤ë°±ì— ë”°ë¼ ë¿… í•˜ê³  ë°”ë€Œì§€ë§Œ, ë Œë”ë§ë  ë©”ì‹œëŠ” ì§ì „ í”„ë ˆì„ì˜ ìœ„ì¹˜ì™€ í˜„ì¬ ë…¼ë¦¬ì  ìœ„ì¹˜ ì‚¬ì´ë¥¼ ë¶€ë“œëŸ½ê²Œ ë³´ê°„í•´ì„œ ì›€ì§ì´ê²Œ í•©ë‹ˆë‹¤.

**5. ê²°ë¡ : "ê°œë°œìì—¬, ì‹œê°„ì˜ ì§€ë°°ìê°€ ë˜ì–´ë¼!"**

ë¡¤ë°± ë„·ì½”ë“œëŠ” êµ¬í˜„í•˜ê¸° ë§¤ìš° ë³µì¡í•˜ê³  ê¹Œë‹¤ë¡­ìŠµë‹ˆë‹¤. ê²°ì •ë¡ ì„ ì§€í‚¤ê¸° ìœ„í•œ ëŠì„ì—†ëŠ” ë…¸ë ¥, ë°©ëŒ€í•œ ê²Œì„ ìƒíƒœ ì €ì¥, ê·¸ë¦¬ê³  ë¯¸ì¹œ ì¬ì‹œë®¬ë ˆì´ì…˜ ë¡œì§... ì´ê±´ ê±°ì˜ ê²Œì„ ì•ˆì— ë˜ ë‹¤ë¥¸ ê²Œì„ì„ ë§Œë“œëŠ” ìˆ˜ì¤€ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ì„±ê³µì ìœ¼ë¡œ êµ¬í˜„í–ˆì„ ë•Œ ì–»ì„ ìˆ˜ ìˆëŠ” ê²°ê³¼ëŠ” ìƒìƒì„ ì´ˆì›”í•©ë‹ˆë‹¤. ë§ˆì¹˜ ë¡œì»¬ì—ì„œ í”Œë ˆì´í•˜ëŠ” ê²ƒê³¼ ê°™ì€ ì¾Œì í•œ ì˜¨ë¼ì¸ ê²½í—˜ì„ ì„ ì‚¬í•  ìˆ˜ ìˆì£ .

ë§Œì•½ ì—¬ëŸ¬ë¶„ì´ 1í”„ë ˆì„ì˜ ì§€ì—°ë„ ìš©ë‚©í•  ìˆ˜ ì—†ëŠ”, ì§„ì •í•œ 'eìŠ¤í¬ì¸ ê¸‰' ê²©íˆ¬ ê²Œì„ì„ ìœ ë‹ˆí‹°ë¡œ ë§Œë“¤ê³  ì‹¶ë‹¤ë©´, ì´ ë¯¸ì¹œ ì‹œê°„ ì—¬í–‰ì˜ ë§ˆë²•, ë¡¤ë°± ë„·ì½”ë“œì— ë„ì „í•´ë³´ì„¸ìš”. í”¼ì™€ ë•€, ëˆˆë¬¼ì´ íë¥´ê² ì§€ë§Œ, ê·¸ ëì—ëŠ” "ë„¤íŠ¸ì›Œí¬ ì§€ì—°? ê·¸ê²Œ ë­ì£ ?"ë¼ê³  ë‹¹ë‹¹íˆ ì™¸ì¹  ìˆ˜ ìˆëŠ” ì§„ì •í•œ ì‹œê°„ì˜ ì§€ë°°ìê°€ ë˜ì–´ ìˆì„ ê²ë‹ˆë‹¤!

Dr. BugëŠ” ì´ë§Œ í‡´ì¥! ë‹¤ìŒì— ë˜ ì¬ë°ŒëŠ” ì½”ë”© ë§ˆë²•ìœ¼ë¡œ ëŒì•„ì˜¤ê² ìŠµë‹ˆë‹¤! ë¿…! âœ¨
